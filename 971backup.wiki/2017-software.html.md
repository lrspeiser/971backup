  <div class="content">
    <div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><h2>Source Code</h2><p>The 2017 robot code is available for current team members to access and create during the season and then posted at the end of the season.  See the robot code notes below for details on how team members can access the current code.</p><p><span style="font-size: 13.008px;">Here is the</span><a style="font-size: 13.008px;" href="../releases/src/2017_frc971_software_final.tar.xz"> final 2017 snapshot of our robot source code</a><span style="font-size: 13.008px;">. (this link will work after 1/5/18)  Expand it with "tar -xJvf 2017_frc971_software_final.tar.xz".  Here is a <a href="../releases/src/2017_frc971_software_offseason_vision.tar.xz">snapshot of our 2017 offseason vision code development work</a>.  Part of this software was run on the 9971 robot at the MadTown ThrowDown competition (we had huge fun there).  These have been tested on a Debian 64bit Linux system.  </span>Here is a <a href="../releases/src/2017_frc971_software_summer.tar.xz">summer 2017 snapshot of our robot source code</a>.  Expand it with "tar -xJvf 2017_frc971_software_summer.tar.xz".  This has been tested on a Debian 64bit Linux system.  </p><h2>FRC Software Notes</h2><p>Teams need to install and run software from FIRST to set up their robots and driver stations.  This section has notes on how to do this.</p><h3>Radio Programming</h3><p>The <a href="https://wpilib.screenstepslive.com/s/4485/m/13503">WPI Getting Started page</a> had a link to the <a href="https://wpilib.screenstepslive.com/s/4485/m/13503/l/144986-programming-your-radio-for-home-use">Programming your radio for home use</a> page which said to download the FRC Radio Configuration utility from the <a href="https://usfirst.collab.net/sf/go/projects.wpilib/frs.frc_radio_configuration_utility">TeamForge FRC Radio Configuration Utility</a> page.  I was getting an error related to my Ethernet card on my Samsung laptop that said: </p><p style="padding-left: 30px;"><em>Bridge firmware load failed: Error finding NPF device name for adapter: &lt;name of adapter&gt;</em></p><p>Please reset the bridge and try again</p><p>This <a href="http://forums.usfirst.org/showthread.php?24741-OM5P-AN-Radio-Flashing">FIRST Forums page suggested disabling all other network devices</a> other than the one being used.  I was able to download the radio firmware and configure the radio fine once I disabled the wireless device driver.  I was able to flash the firmware and configure the 2017 radio with the Firewall enabled.</p><h2>Getting Started Building Code from a Bare Debian Installation</h2><p>On 7/1/2017, Neil, Campbell and Adam used this series of terminal commands to get a new member's Debian Jessie VM started building code.</p><ul style="margin-top: 0pt; margin-bottom: 0pt;"><li>cd ~</li><li>su root</li><li>apt-get install sudo git vim</li><li>vim /etc/sudoers<ul><li>Add "<em>[USERNAME]    ALL=(ALL) ALL</em>" under "# Allow members of group sudo to execute any command"</li><li>exit</li></ul></li><li>wget <a href="../files/frc971/packages/frc971.list.txt">http://frc971.org/files/frc971/packages/frc971.list</a></li><li>wget <a href="../files/frc971/packages/llvm.org.list">http://frc971.org/files/frc971/packages/llvm.org.list</a> </li><li>sudo mv frc971.list /etc/apt/sources.list.d/frc971.list</li><li>sudo mv llvm.org.list /etc/apt/sources.list.d/llvm.org.list</li><li>sudo apt-get install -t jessie-backports openjdk-8-jdk</li><li>sudo apt-get install python libpython-dev bazel ruby clang-format-3.5 clang-3.6 gfortran libblas-dev liblapack-dev python-scipy python-matplotlib</li><li>git clone https://frc971.org/gerrit/971-Robot-Code<ul><li>Enter Gerrit login info</li></ul></li></ul><h4>Used to Test Run Bazel</h4><ul><li>cd 971-Robot-Code/y2017; bazel test //...</li></ul><h2>Robot Code</h2><p>I don't have any detailed notes on how to download and run this year's robot's source code.  If you are interested in doing this, check out the <a href="2016-software.html">2016 Software</a> page and try following those directions.</p><h3>Vision Code and Tools</h3><p>Parker and Ben are leading the development of this year's vision code.  </p><p>On Feb 25, 2017, Michael checked out the CL (Change List) from the Gerit repository and compliled it with these commands:</p><ul><li>mkdir ~/src_frc971</li><li>cd ~/src_frc971</li><li>git init</li><li>git fetch https://michael@software.frc971.org/gerrit/a/971-Robot-Code refs/changes/83/1283/31 &amp;&amp; git checkout FETCH_HEAD</li><li>vim tools/build_rules/gtk_dependent.bzl <ul><li>This file needs to be updated to enable building the gtk binaries.  Do this by changing the "disable_gtk_binaries = True" to "diable_gtk_binaries = False".</li><li>Do not check in this change.</li></ul></li><li>git status</li><li>bazel build //y2017/vision:debug-viewer_example  # It took about 5 minute on my HP xw4600 Debian computer.</li><li># Help output</li><li>bazel build //y2017/vision:debug-viewer_example &amp;&amp; bazel-bin/y2017/vision/debug-viewer_example help</li></ul><p style="padding-left: 30px;">Usage bazel-bin/y2017/vision/debug-viewer_example image_format</p><p style="padding-left: 30px;">jpeg_list:file_path <br />   If this option is used then the provided file will contain a path to a jpeg image on each line.<br />camera:file_path <br />   If this option is used then the provided file will path camera device (/dev/video0).<br /> camera:<br />   format_spec is filename of the camera device.<br />blob_log:<br />   format_spec is the name of a file in blob list format. <br />  tcp:<br />   format_spec is in ipaddr:port format.<br /> jpeg_list:<br />   format_spec is the name of a file with each jpeg filename on a new line. </p><ul><li># Run the code with a bunch of Jpeg images listed in a file</li><li>bazel build //y2017/vision:debug-viewer_example &amp;&amp; bazel-bin/y2017/vision/debug-viewer_example jpeg_list:/home/michael/Downloads/test_images/all_imgs.img_list</li><li># Here is what the image list looks like</li><li>head ~/Downloads/test_images/all_imgs.img_list</li></ul><p style="padding-left: 30px;">5_inch_run_0_eq_35/test10.jpg<br />5_inch_run_0_eq_35/test11.jpg<br />5_inch_run_0_eq_35/test12.jpg</p><p>Michael Schuh</p><h3>March 13, 2017 notes on building the log_displayer and vision debug_viewer.</h3><p style="margin: 0px 0px 1em; padding: 0px 0px 0px 60px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; line-height: inherit; font-family: Nobile, Verdana, sans-serif; font-size: 14px; vertical-align: baseline; color: #333333;"><strong style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;">Checking out the latest code</strong></p><p style="margin: 0px 0px 1em; padding: 0px 0px 0px 60px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; line-height: inherit; font-family: Nobile, Verdana, sans-serif; font-size: 14px; vertical-align: baseline; color: #333333;">Ask Brian or Austin what code you should be using.  They will give you a link like <br /> <a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: normal; font-family: arial, sans-serif; font-size: 12.8px; vertical-align: baseline; color: #0065cc;" href="https://software.frc971.org/gerrit/#/c/336">https://software.frc971.org/gerrit/#/c/336</a><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 1.538em; font-family: inherit; font-size: 13.008px; vertical-align: baseline;"> <br />Browse to that link and click on the "Download" tab in the upper right hand corner of the page.  Then copy the downlaod checkout command by clicking on the copy to clipboard icon on the right.  Paste that into your linux terminal.  This will "fetch" the version you want and checkout the code. </span></p><p style="margin: 0px 0px 1em; padding: 0px 0px 0px 60px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline;"><span style="color: #333333; font-family: inherit; font-size: 13.008px; margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 1.538em; vertical-align: baseline;">The outstanding changes can be <a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13.008px; vertical-align: baseline;" href="https://software.frc971.org/gerrit/#/q/status:open">viewed on Gerrit here</a>.  I went to this link and clicked on the </span><a style="color: #222222 !important; font-family: sans-serif; font-size: small; text-decoration: none; background-color: #d8edf9;" href="https://software.frc971.org/gerrit/1283">Vision2017: - Parker got almost everything checked in. - Added more ...</a><span style="color: #333333; font-family: inherit; font-size: 13.008px; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit; font-weight: inherit;"> link, clicked on the "Download" in the upper right hand corner of the page, and copy and pasted the "Checkout" text "</span><span style="color: #333333; font-family: Nobile, Verdana, sans-serif;"><span style="font-size: 13.008px;">git fetch https://michael@software.frc971.org/gerrit/a/971-Robot-Code refs/changes/83/1283/49 &amp;&amp; git checkout FETCH_HEAD</span></span><span style="color: #333333; font-family: inherit; font-size: 13.008px; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit; font-weight: inherit;">" to an xterm and ran it.  This checked out the version that Parker has been working on.  I did this because I want to compile and run his vision code.</span></p><p style="margin: 0px 0px 1em; padding: 0px 0px 0px 60px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline;"><strong><span style="color: #333333; font-family: inherit; font-size: 13.008px; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit;">Compiling the log_displayer</span></strong></p><p style="margin: 0px 0px 1em; padding: 0px 0px 0px 60px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline;"><span style="color: #333333; font-family: inherit; font-size: 13.008px; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit; font-weight: inherit;">From ~/src_frc971, with Brian's help, I ran:</span></p><ul><li> <ul><li><span style="color: #333333;"><span style="font-size: 13.008px;">bazel build //y2017:downloa<span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;">d_stripped.star</span><span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;">t_list.dir/star</span><span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;">t_list.txt &amp;&amp; cp bazel-bin/y2</span><span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;">017/download_st</span><span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;">ripped.start_li</span><span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;">st.dir/start_li</span><span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;">st.txt .</span></span></span></li><li><span style="color: #333333;"><span style="font-size: 13.008px;"><span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;">bazel build -c opt //aos/common/lo<span style="font-size: 12.8px;">gging:log_displ</span><span style="font-size: 12.8px;">ayer</span></span></span></span></li><li><span style="color: #333333;"><span style="font-size: 13.008px;"><span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;"><span style="font-size: 12.8px;">cp bazel-bin/aos/common/logging/log_displayer ~/bin</span></span></span></span></li><li><span style="color: #333333;"><span style="font-size: 13.008px;"><span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px;">Then I copied ./start_list.txt to ~/bin</span></span></span></li></ul></li></ul><p style="margin: 0px 0px 1em; padding: 0px 0px 0px 60px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline;"><strong><span style="color: #333333; font-family: inherit; font-size: 13.008px; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit;">Compiling the vision debug_viewer with</span></strong></p><ul><li> <ul><li><span style="color: #333333;"><span style="font-size: 13.008px;">bazel build //y2017/vision:debug_viewer</span></span></li></ul></li></ul><p style="padding-left: 60px;"><strong><span style="color: #333333;"><span style="font-size: 13.008px;">Notes about finding versions to compile</span></span></strong></p><p style="padding-left: 60px;"><span style="font-size: 13.008px;">If you type a bazel command like "bazel build //y2017/vision:" and enter two "tab" commands, you will get a list of targets to build.  I was able to run </span><span style="font-size: 13.008px;">"bazel build //y2017/vision:all" but I don't know if this really compiles everything or not.</span></p></div></div></div>  </div>

  
  
</div>
  </div>
</div>
  </div>
    </div>